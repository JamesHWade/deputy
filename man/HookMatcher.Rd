% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hooks.R
\name{HookMatcher}
\alias{HookMatcher}
\title{HookMatcher R6 Class}
\description{
Defines when a hook callback should be triggered. Hooks can be filtered
by event type and optionally by tool name pattern.
}
\examples{

## ------------------------------------------------
## Method `HookMatcher$new`
## ------------------------------------------------

\dontrun{
# Block dangerous bash commands
HookMatcher$new(
  event = "PreToolUse",
  pattern = "^(run_bash|bash)$",
  callback = function(tool_name, tool_input, context) {
    if (grepl("rm -rf", tool_input$command)) {
      HookResultPreToolUse(permission = "deny", reason = "Dangerous!")
    } else {
      HookResultPreToolUse(permission = "allow")
    }
  }
)
}
}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{event}}{The hook event type (see \link{HookEvent})}

\item{\code{pattern}}{Optional regex pattern for tool name filtering}

\item{\code{callback}}{The function to call when the hook fires}

\item{\code{timeout}}{Maximum execution time for the callback in seconds}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-HookMatcher-new}{\code{HookMatcher$new()}}
\item \href{#method-HookMatcher-matches}{\code{HookMatcher$matches()}}
\item \href{#method-HookMatcher-print}{\code{HookMatcher$print()}}
\item \href{#method-HookMatcher-clone}{\code{HookMatcher$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-HookMatcher-new"></a>}}
\if{latex}{\out{\hypertarget{method-HookMatcher-new}{}}}
\subsection{Method \code{new()}}{
Create a new HookMatcher.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{HookMatcher$new(event, callback, pattern = NULL, timeout = 30)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{event}}{The event type (must be one of \link{HookEvent})}

\item{\code{callback}}{Function to call. Signature depends on event type:
\itemize{
\item PreToolUse: \verb{function(tool_name, tool_input, context)}
\item PostToolUse: \verb{function(tool_name, tool_result, tool_error, context)}
\item Stop: \verb{function(reason, context)}
\item SubagentStop: \verb{function(agent_name, task, result, context)}
\item UserPromptSubmit: \verb{function(prompt, context)}
}}

\item{\code{pattern}}{Optional regex pattern to filter by tool name.
Only applies to PreToolUse and PostToolUse events.}

\item{\code{timeout}}{Maximum callback execution time in seconds}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new \code{HookMatcher} object
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Block dangerous bash commands
HookMatcher$new(
  event = "PreToolUse",
  pattern = "^(run_bash|bash)$",
  callback = function(tool_name, tool_input, context) {
    if (grepl("rm -rf", tool_input$command)) {
      HookResultPreToolUse(permission = "deny", reason = "Dangerous!")
    } else {
      HookResultPreToolUse(permission = "allow")
    }
  }
)
}
}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-HookMatcher-matches"></a>}}
\if{latex}{\out{\hypertarget{method-HookMatcher-matches}{}}}
\subsection{Method \code{matches()}}{
Check if this hook matches a given tool name.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{HookMatcher$matches(tool_name = NULL)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{tool_name}}{The tool name to check (can be NULL)}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
Logical indicating if the hook matches
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-HookMatcher-print"></a>}}
\if{latex}{\out{\hypertarget{method-HookMatcher-print}{}}}
\subsection{Method \code{print()}}{
Print the hook matcher.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{HookMatcher$print()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-HookMatcher-clone"></a>}}
\if{latex}{\out{\hypertarget{method-HookMatcher-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{HookMatcher$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
