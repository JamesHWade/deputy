http_interactions:
- request:
    method: POST
    uri: https://api.anthropic.com/v1/messages
    body:
      string: '{"model":"claude-sonnet-4-20250514","messages":[{"role":"user","content":[{"type":"text","text":"What
        files are in the current directory?","cache_control":{"type":"ephemeral","ttl":"5m"}}]}],"stream":true,"tools":[{"name":"read_file","description":"Read
        the contents of a file and return as text.","input_schema":{"type":"object","description":"","properties":{"path":{"type":"string","description":"Path
        to the file to read"}},"required":["path"],"additionalProperties":false}},{"name":"write_file","description":"Write
        content to a file. Creates the file if it doesn''t exist, or overwrites if
        it does. Use append=TRUE to add to existing content.","input_schema":{"type":"object","description":"","properties":{"path":{"type":"string","description":"Path
        to the file to write"},"content":{"type":"string","description":"Content to
        write to the file"},"append":{"type":"boolean","description":"If TRUE, append
        to existing file instead of overwriting. Default is FALSE."}},"required":["path","content"],"additionalProperties":false}},{"name":"list_files","description":"List
        files in a directory. Returns file names, sizes, and whether each is a directory.","input_schema":{"type":"object","description":"","properties":{"path":{"type":"string","description":"Directory
        path to list. Default is current directory."},"pattern":{"type":"string","description":"Optional
        regex pattern to filter files"},"recursive":{"type":"boolean","description":"If
        TRUE, list files recursively. Default is FALSE."},"full_names":{"type":"boolean","description":"If
        TRUE, return full paths. Default is FALSE."}},"additionalProperties":false}}],"max_tokens":4096}'
  response:
    status: 200
    headers:
      date: Sat, 07 Feb 2026 02:16:41 GMT
      content-type: text/event-stream; charset=utf-8
      cache-control: no-cache
      anthropic-ratelimit-input-tokens-limit: '30000'
      anthropic-ratelimit-input-tokens-remaining: '30000'
      anthropic-ratelimit-input-tokens-reset: '2026-02-07T02:16:41Z'
      anthropic-ratelimit-output-tokens-limit: '8000'
      anthropic-ratelimit-output-tokens-remaining: '8000'
      anthropic-ratelimit-output-tokens-reset: '2026-02-07T02:16:40Z'
      anthropic-ratelimit-requests-limit: '50'
      anthropic-ratelimit-requests-remaining: '49'
      anthropic-ratelimit-requests-reset: '2026-02-07T02:16:41Z'
      anthropic-ratelimit-tokens-limit: '38000'
      anthropic-ratelimit-tokens-remaining: '38000'
      anthropic-ratelimit-tokens-reset: '2026-02-07T02:16:40Z'
      request-id: req_011CXsuQVdgm4gcDehsJQ8uq
      strict-transport-security: max-age=31536000; includeSubDomains; preload
      anthropic-organization-id: 589cabd5-ed9a-4b8e-a45d-db2907b12f8c
      server: cloudflare
      x-envoy-upstream-service-time: '1026'
      cf-cache-status: DYNAMIC
      x-robots-tag: none
      content-security-policy: default-src 'none'; frame-ancestors 'none'
      cf-ray: 9c9f62f2d943f15d-ORD
    body:
      string: |+
        event: message_start
        data: {"type":"message_start","message":{"model":"claude-sonnet-4-20250514","id":"msg_01JfFdatq7scxZMMZyWTqGcW","type":"message","role":"assistant","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":722,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":8,"service_tier":"standard","inference_geo":"not_available"}} }

        event: content_block_start
        data: {"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}  }

        event: ping
        data: {"type": "ping"}

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"I'll list the files in the current"}         }

        event: content_block_delta
        data: {"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" directory for you."}             }

        event: content_block_stop
        data: {"type":"content_block_stop","index":0      }

        event: content_block_start
        data: {"type":"content_block_start","index":1,"content_block":{"type":"tool_use","id":"toolu_01HkaNEYV1nJPp2nW9Hvjs3E","name":"list_files","input":{}}       }

        event: content_block_delta
        data: {"type":"content_block_delta","index":1,"delta":{"type":"input_json_delta","partial_json":""}}

        event: content_block_stop
        data: {"type":"content_block_stop","index":1      }

        event: message_delta
        data: {"type":"message_delta","delta":{"stop_reason":"tool_use","stop_sequence":null},"usage":{"input_tokens":722,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":49}          }

        event: message_stop
        data: {"type":"message_stop"              }

  recorded_at: 2026-02-07 02:16:41
recorded_with: VCR-vcr/2.1.0
